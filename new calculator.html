<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Boring RPM Calculator</title>

<!-- Optional favicon (works when hosted, not visible inside Notion embed UI) -->
<!-- Replace /icon-192.png with your hosted icon path -->
<!-- <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png"> -->

<style>
  /* ====== THEME ====== */
  :root{
    --bg: #0b0d10;
    --card: #12151a;
    --fg: #e9eef5;
    --muted: #9aa7b5;
    --accent: #68a0ff;
    --border: #1c222b;
    --ring: #86b3ff;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius: 14px;
    --font-size: clamp(14px, 1.3vw, 16px);
    --title-size: clamp(18px, 2.4vw, 22px);
    --input-pad-y: 12px; /* increase for taller inputs */
    --input-pad-x: 14px;
  }
  @media (prefers-color-scheme: light) {
    :root{
      --bg:#f4f7fb; --card:#ffffff; --fg:#0f1720; --muted:#5b6977;
      --accent:#3a86ff; --border:#e5ebf2; --ring:#5aa0ff; --shadow:0 10px 24px rgba(16,24,40,.08);
    }
  }

  /* ====== BASE ====== */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    background:var(--bg); color:var(--fg);
    line-height:1.45; font-size: var(--font-size);
    -webkit-text-size-adjust:100%; /* prevent iOS zoom on focus */
  }
  .wrap{max-width: 780px; margin: 0 auto; padding: 20px}
  .card{
    background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
    box-shadow: var(--shadow); padding: 20px;
  }

  /* ====== HEADER ====== */
  .title{display:flex; align-items:center; gap:10px; margin:0 0 8px}
  .title svg{width:28px; height:28px; flex:0 0 28px}
  .title span{font-weight:700; font-size: var(--title-size); letter-spacing:.2px}
  .muted{color:var(--muted); margin:0 0 16px}
  .muted code{background:transparent; border:1px solid var(--border); padding:2px 6px; border-radius:8px}

  /* ====== FORM GRID ====== */
  .grid{display:grid; grid-template-columns: 1fr; gap: 12px; margin-top:10px}
  @media (min-width: 680px){
    .grid{grid-template-columns: 1fr 1fr}
  }
  .row{
    display:flex; align-items:center; gap:10px; width:100%;
    background: color-mix(in oklab, var(--card) 96%, var(--bg));
    border:1px solid var(--border); border-radius:12px; padding:10px;
  }
  .row label{min-width: 160px; color:var(--muted)}
  .row .grow{flex:1}
  .unit{min-width:64px; text-align:center; color:var(--muted)}

  /* ====== INPUTS ====== */
  input[type="number"], select{
    width:100%; background:#0000; color:var(--fg);
    border:1px solid var(--border); border-radius:10px;
    padding: var(--input-pad-y) var(--input-pad-x);
    outline:none; font-size:1rem;
  }
  select{appearance:none; background-image:
    linear-gradient(45deg, transparent 50%, var(--muted) 50%),
    linear-gradient(135deg, var(--muted) 50%, transparent 50%);
    background-position:
      calc(100% - 16px) calc(50% - 3px),
      calc(100% - 12px) calc(50% - 3px);
    background-size: 6px 6px, 6px 6px; background-repeat:no-repeat;
  }
  input[type="number"]:focus, select:focus{
    border-color: var(--ring); box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) 25%, transparent);
  }
  /* Remove spinners (optional) */
  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0 }
  input[type="number"]{ -moz-appearance: textfield }

  /* ====== RESULT ====== */
  .result{
    margin-top: 16px; padding: 16px;
    background: color-mix(in oklab, var(--card) 95%, var(--bg));
    border:1px dashed var(--border); border-radius:12px;
  }
  .kicker{color:var(--muted); font-size:.92rem; margin-bottom:6px}
  .val{font-size: clamp(22px, 3vw, 30px); font-weight:800; letter-spacing:.3px}

  /* ====== DETAILS ====== */
  details{ margin-top: 16px; border:1px solid var(--border); border-radius:12px; overflow:hidden }
  summary{ cursor:pointer; list-style:none; padding:12px 14px; background: color-mix(in oklab, var(--card) 92%, var(--bg)); }
  summary::-webkit-details-marker{display:none}
  details > div{ padding: 12px 14px; background: color-mix(in oklab, var(--card) 96%, var(--bg)); }

  /* ====== FOOTER ====== */
  .hint{ color:var(--muted); font-size:.9rem; margin-top: 10px }

  /* ====== RESPONSIVE FULL-WIDTH EMBED ====== */
  .wrap{width:100%; max-width: 860px}
  .card{padding: clamp(16px, 3vw, 22px)}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <!-- Inline icon: spindle/boring bar (edit stroke color to change accent) -->
      <h1 class="title">
        <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <!-- chuck -->
          <rect x="2" y="5" width="9" height="14" rx="2"></rect>
          <path d="M11 12h5"></path>
          <!-- bar -->
          <path d="M16 12h5"></path>
          <!-- cutting head -->
          <path d="M21 12l1.5-1.5M21 12l1.5 1.5"></path>
        </svg>
        <span>Boring RPM Calculator</span>
      </h1>

      <p class="muted">
        Solves for spindle speed <strong>n (rpm)</strong>.<br>
        <code>Imperial: n = (12·Vc) / (π·D)</code> (Vc in sfm, D in inches) &nbsp;|&nbsp;
        <code>Metric: n = (1000·Vc) / (π·D)</code> (Vc in m/min, D in mm)
      </p>

      <div class="grid">
        <div class="row">
          <label for="system">Unit system</label>
          <div class="grow">
            <select id="system" aria-label="Unit system">
              <option value="imperial">Imperial (sfm &amp; inch)</option>
              <option value="metric">Metric (m/min &amp; mm)</option>
            </select>
          </div>
        </div>

        <div class="row">
          <label id="label-vc" for="vc">Cutting speed Vc</label>
          <div class="grow"><input id="vc" type="number" step="any" inputmode="decimal" value="400" aria-describedby="unit-vc"></div>
          <div id="unit-vc" class="unit">sfm</div>
        </div>

        <div class="row">
          <label id="label-d" for="d">Workpiece diameter D</label>
          <div class="grow"><input id="d" type="number" step="any" inputmode="decimal" value="1.0" aria-describedby="unit-d"></div>
          <div id="unit-d" class="unit">in</div>
        </div>

        <div class="row">
          <label for="round">Rounding (rpm)</label>
          <div class="grow">
            <select id="round" aria-label="Rounding">
              <option value="1">Nearest 1</option>
              <option value="5">Nearest 5</option>
              <option value="10" selected>Nearest 10</option>
              <option value="25">Nearest 25</option>
              <option value="50">Nearest 50</option>
              <option value="100">Nearest 100</option>
            </select>
          </div>
        </div>
      </div>

      <div class="result">
        <div class="kicker">Spindle speed</div>
        <div class="val"><span id="rpm">—</span> rpm</div>
      </div>

      <details>
        <summary>Optional: feed rate (Vf)</summary>
        <div>
          <div class="row">
            <label for="fn">Feed per rev (f<sub>n</sub>)</label>
            <div class="grow"><input id="fn" type="number" step="any" inputmode="decimal" value="0.006" aria-describedby="unit-fn"></div>
            <div id="unit-fn" class="unit">ipr</div>
          </div>
          <div class="result">
            <div class="kicker">Feed rate</div>
            <div class="val"><span id="vf">—</span> <span id="unit-vf">ipm</span></div>
            <div class="hint">Formula: Vf = n · f<sub>n</sub></div>
          </div>
        </div>
      </details>

      <div class="hint">Tip: this layout is fully responsive. If you want even bigger inputs on mobile, increase <code>--input-pad-y</code> in <em>:root</em>.</div>
    </div>
  </div>

<script>
  function $(id){ return document.getElementById(id); }

  function roundTo(n, step){
    step = Number(step) || 1;
    return Math.round(n / step) * step;
  }

  function formatInt(n){
    if(!Number.isFinite(n)) return "—";
    return Math.round(n).toLocaleString();
  }
  function formatFloat(n, d=3){
    if(!Number.isFinite(n)) return "—";
    return n.toLocaleString(undefined,{maximumFractionDigits:d});
  }

  function compute(){
    const system = $("system").value;
    const Vc = Number($("vc").value);
    const D  = Number($("d").value);
    const step = Number($("round").value);

    let n;
    if(system === "imperial"){
      // n = (12 * Vc) / (pi * D)
      n = (12 * Vc) / (Math.PI * D);
    }else{
      // n = (1000 * Vc) / (pi * D)
      n = (1000 * Vc) / (Math.PI * D);
    }
    const nRounded = roundTo(n, step);
    $("rpm").textContent = formatInt(nRounded);

    // Optional feed
    const fn = Number($("fn").value) || 0;
    let vf = nRounded * fn;

    if(system === "imperial"){
      $("unit-vf").textContent = "ipm";
      $("unit-fn").textContent = "ipr";
    }else{
      $("unit-vf").textContent = "mm/min";
      $("unit-fn").textContent = "mm/rev";
    }
    $("vf").textContent = formatFloat(vf, 3);
  }

  function updateUnits(){
    const sys = $("system").value;
    if(sys === "imperial"){
      $("unit-vc").textContent = "sfm";
      $("unit-d").textContent = "in";
    }else{
      $("unit-vc").textContent = "m/min";
      $("unit-d").textContent = "mm";
    }
    compute();
  }

  ["system","vc","d","round","fn"].forEach(id => $(id).addEventListener("input", compute));
  $("system").addEventListener("change", updateUnits);

  // Initial
  updateUnits();
  compute();
</script>
</body>
</html>
